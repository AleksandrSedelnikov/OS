count=0 # переменная для подсчёта количества оценок
sum=0 # переменная для подсчёта суммы оценок
while true # пока истина
do
  read -r file1 <&4 # чтение в переменную file1 строчки из файла database
  if [ -z "$file1" ] # если пришла пустая строчка из database, то закончить выполнение while(а значит чтения из файлов)
  then 
    break
  fi
ozenki=`echo $file1 | cut -d":" -f2` # записываются оценки учащегося
name=`echo $file1 | cut -d":" -f1` # записывается имя учащегося
for i in $ozenki # цикл по оценкам учащегося
do
count=`expr $count + 1` # увеличение количества оценок
sum=`expr $sum + $i` # суммирование значения оценки
done
KC=`echo "scale=2;$sum/$count" | bc` # вычисляется контрольный срок (сумма/количество с 2 цифрами после точки)
echo "Контрольный срок для учащегося $name - $KC" # вывод имени и контрольного срока учащегося
count=0 # обнуление переменной количества оценок
sum=0 # обнуление переменной суммы значений оценок
done 4<database # передача в 4 параметр скрипта вывода из файла database