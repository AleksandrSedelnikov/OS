count=0 # счётчик количества строк в файлах
echo "Введено параметров: $#" # вывод количества введённых параметров
while [ -n "$1" ] # пока $1 не пустота
do
if [ -d $1 ] # если параметр это директория
then
files=`find $1 -maxdepth 1 -type f 2>~/error` # список всех вложенных файлов в директории
for i in $files # цикл по вложенным файлам
do
stroki=`cat $i | wc -l` # количество строчек в файле
count=`expr $count + $stroki` # прибавление количества строчек к глобальной переменной количества строчек
done
else # если параметр это файл
stroki=`cat $1 | wc -l` # подсчёт количества строчек в файле
count=`expr $count + $stroki` # прибавление количества строчек к глобальной переменной количества строчек
fi
shift # сдвигает параметры влево (параметр1 параметр2 параметр3 >> параметр2 параметр3)
done
echo "Количество строчек в файлах: $count" # вывод количества строчек при проверки всех параметров