echo "" > DB_gt16 # создаём/очищаем файлы вывода
echo "" > DB_16F # создаём/очищаем файлы вывода
for i in `find / -size +16k 2>~/error` # цикл по выводу команды поиска файлов по всей системе, размер которых больше 16 КБ
do
echo $i >> DB_gt16 # вывод абсолютного имени файла (пути)
name_file=`echo $i | sed "s/.*\///"` # получить только относительное имя файла
result=`head -n 3 $i 2>~/error | tail -n 1` # в переменную result запишется 3-я строка из файла
if [ "$result" != "" ] # если 3-я строка в файле есть
then # если так и есть
echo "$name_file:$result" >> DB_16F # добавить в файл DB_16F название_файла:содержание_3_строки
else # иначе
echo "$name_file:нет 3-ей строки" >> DB_16F # добавить в файл DB_16F название_файла:нет 3-ей строки
fi
done